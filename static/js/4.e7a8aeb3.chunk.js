(this["webpackJsonpreactive-app"]=this["webpackJsonpreactive-app"]||[]).push([[4],{302:function(e,t,n){e.exports={userPage:"Users_userPage__3ow8f",userBlock:"Users_userBlock__1k7NG",userPhoto:"Users_userPhoto__2J1nL",photo:"Users_photo__2f-ZP",name:"Users_name__iFra2",status:"Users_status__t7jXT",follow:"Users_follow__WsZKu",selectedPage:"Users_selectedPage__LM3hz"}},305:function(e,t,n){e.exports={pagination:"Pagination_pagination__w-l80",selectedPage:"Pagination_selectedPage__2XPhK",left:"Pagination_left__1Tsvp",right:"Pagination_right__1LcjQ",tiny:"Pagination_tiny__3QN9n",small:"Pagination_small__2cnIr",medium:"Pagination_medium__1DXv_",large:"Pagination_large__1Eu6n"}},306:function(e,t,n){"use strict";n.r(t);var r=n(44),a=n(45),o=n(48),s=n(47),u=n(0),l=n.n(u),i=n(29),c=n(41),p=n(305),f=n.n(p),g=l.a.memo((function(e){for(var t=e.portionSize,n=Object(c.a)(e,["portionSize"]),r=Math.ceil(n.totalItemsCount/n.pageSize),a=[],o=1;o<=r;o++)a.push(o);var s=Object(u.useState)(1),p=Object(i.a)(s,2),g=p[0],m=p[1],h=Math.ceil(r/t),_=t*(g-1)+1,P=t*g;return l.a.createElement("div",{className:f.a.pagination},g>1&&l.a.createElement("button",{onClick:function(){return m(g-1)}},l.a.createElement("i",{className:"".concat(f.a.tiny," material-icons")},"fast_rewind")),a.filter((function(e){return P>=e&&e>=_})).map((function(e){return l.a.createElement("span",{className:n.currentPage===e?f.a.selectedPage:void 0,onClick:function(){return n.onChangedPage(e)}},l.a.createElement("button",null,e))})),h>g&&l.a.createElement("button",{onClick:function(){return m(g+1)}},l.a.createElement("i",{className:"".concat(f.a.tiny," material-icons")},"fast_forward")))})),m=n(16),h=n(80),_=n.n(h),P=n(302),d=n.n(P),v=function(e){var t=e.user,n=Object(c.a)(e,["user"]);return l.a.createElement("div",{className:d.a.userBlock},l.a.createElement(m.b,{className:d.a.userPhoto,to:"/profile/"+t.id},l.a.createElement("img",{src:null!=t.photos.small?t.photos.small:_.a,className:d.a.photo})),l.a.createElement("div",{className:d.a.name},l.a.createElement("b",null,t.name)),l.a.createElement("div",{className:d.a.status},t.status&&l.a.createElement("p",null,l.a.createElement("b",null,"My status: "),t.status)),l.a.createElement("div",{className:d.a.follow},t.followed?l.a.createElement("button",{disabled:n.followProcessing.some((function(e){return e===t.id})),onClick:function(){return n.unfollow(t.id)}},"Unfollow"):l.a.createElement("button",{disabled:n.followProcessing.some((function(e){return e===t.id})),onClick:function(){return n.follow(t.id)}},"Follow")))},b=n(72),w=function(e){return l.a.createElement("div",null,l.a.createElement(g,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,portionSize:10,onChangedPage:e.onChangedPage}),!0===e.isFetching?l.a.createElement(b.a,null):null,l.a.createElement("div",{className:d.a.userPage},e.users.map((function(t){return l.a.createElement(v,Object.assign({},e,{user:t,key:t.id}))}))))},E=n(11),y=n(135),C=n(9);function k(e,t){return e===t}function U(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function j(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var S=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=0,s=r.pop(),u=j(r),l=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),i=e((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return l.apply(null,e)}));return i.resultFunc=s,i.dependencies=u,i.recomputations=function(){return o},i.resetRecomputations=function(){return o=0},i}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,n=null,r=null;return function(){return U(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var z=S((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),N=function(e){return e.usersPage.totalUsersCount},O=function(e){return e.usersPage.pageSize},F=function(e){return e.usersPage.currentPage},D=function(e){return e.usersPage.isFetching},A=function(e){return e.usersPage.followProcessing},M=n(102),T=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onChangedPage=function(t){e.props.requestUsersThunk(t,e.props.pageSize)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onChangedPage:this.onChangedPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,currentPage:this.props.currentPage,followProcessing:this.props.followProcessing,buttonDisable:this.props.buttonDisable,isFetching:this.props.isFetching}))}}]),n}(l.a.Component),q=y.e.buttonDisable;t.default=Object(C.d)(M.a,Object(E.b)((function(e){return{users:z(e),totalUsersCount:N(e),pageSize:O(e),currentPage:F(e),isFetching:D(e),followProcessing:A(e)}}),{follow:y.b,unfollow:y.d,buttonDisable:q,requestUsersThunk:y.c}))(T)}}]);
//# sourceMappingURL=4.e7a8aeb3.chunk.js.map